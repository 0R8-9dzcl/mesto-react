{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup .js","components/DeletePlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","link","name","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","avatar","about","map","Footer","ImagePopup","onClose","api","selector","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkOk","body","JSON","stringify","caption","cardId","authorization","PopupWithForm","props","isOpen","onSubmit","title","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","minLength","maxLength","onChange","target","value","required","id","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","DeletePlacePopup","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePlacePopupOpen","setIsDeletePlacePopupOpen","selectedCard","setSelectedCard","deletingcard","setDeletingcard","setCards","setCurrentUser","all","getUserInfo","getCards","userInfo","cardList","catch","err","console","log","closeAllPopups","Provider","changeLikeCardStatus","newCard","state","c","data","updAvatar","setUserInfo","postCards","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2e2179c5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.5f3664ca.svg\";","import logo from '../images/header-logo.svg';\r\n\r\nfunction Header() {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<header className=\"header\">\r\n        \t\t<img className=\"header__logo\" src={logo} alt=\"логтип Место-Россия\" />\r\n    \t\t</header>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nexport const CurrentUserContext  = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n    const handleCardClick = () => {\r\n        onCardClick(card);\r\n    };\r\n    const handleCardLike = () => {\r\n        onCardLike(card);\r\n    };\r\n    const handleCardDelete = () => {\r\n        onCardDelete(card);\r\n    };\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = `card__delete ${isOwn && 'card__delete_style_active'}`;\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = `card__like ${isLiked && 'card__like_active'}`; \r\n\treturn (\r\n\t\t<li className=\"card\">\r\n            <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleCardDelete}></button>\r\n            <img className=\"card__photo\" src={card.link} alt={card.name} onClick={handleCardClick} />\r\n            <div className=\"card__caption\">\r\n                <h2 className=\"card__title\">{card.name}</h2>\r\n                <div className=\"card__like-container\">\r\n                    <button className={cardLikeButtonClassName} type=\"button\" onClick={handleCardLike} ></button>\r\n                    <p className=\"card__like-counter\">{card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n\t)\r\n}\r\nexport default Card;","import React from \"react\";\r\n// import avatar from '../images/image.jpg';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main({ cards, onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete }) {\r\n\t\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\t\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<main>\r\n\t\t\t\t<section className=\"profile\">\r\n\t\t\t\t\t<div className=\"profile__container\">\r\n\t\t\t\t\t\t<button className=\"profile__avatar-edit\" onClick={onEditAvatar}>\r\n\t\t\t\t\t\t\t<img className=\"profile__avatar\" src={currentUser.avatar} alt=\"аватарка пользлвателя\" />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<div className=\"profile__info\">\r\n\t\t\t\t\t\t\t<div className=\"profile__user\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"profile__name\">{currentUser.name}</h1>\r\n\t\t\t\t\t\t\t\t<button  className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile}></button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p className=\"profile__caption\">{currentUser.about}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button className=\"profile__add-button\" onClick={onAddPlace} type=\"button\"></button>\r\n\t\t\t\t</section>\r\n\t\t\t\t<section className=\"cards\">\r\n\t\t\t\t\t<ul className=\"cards__list\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcards.map((card) => (\r\n\t\t\t\t\t\t\t<Card card={card}\r\n\t\t\t\t\t\t\tkey={card._id}\r\n\t\t\t\t\t\t\tonCardClick={onCardClick}\r\n\t\t\t\t\t\t\tonCardLike={onCardLike}\r\n\t\t\t\t\t\t\tonCardDelete={onCardDelete} />\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</section>\r\n\t\t\t</main>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n\treturn (\r\n\t\t<footer className=\"footer\">\r\n\t\t\t\t<p className=\"footer__copy\">&copy; 2021 Mesto Russia</p>\r\n\t\t</footer>\r\n\t)\r\n}\r\n\r\nexport default Footer;","function ImagePopup({ card, onClose }) {\r\n\treturn(\r\n\t\t<div className={`popup popup_type_image ${card.link ? `popup_opened `: ``}` }>\r\n\t\t\t<div className=\"popup__photo-box\">\r\n\t\t\t\t<button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\r\n\t\t\t\t<img className=\"popup__img\" src={card.link} alt={card.name} />\r\n\t\t\t\t<p className=\"popup__img-caption\">{card.name}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ImagePopup;","class Api{\r\n\tconstructor(selector) {\r\n\t\tthis._url = selector.url;\r\n\t\tthis._headers = selector.headers;\r\n\t}\r\n\t_checkOk(res) {\r\n\t\tif(res.ok) {\r\n\t\t\treturn res.json();\r\n\t\t} else {\r\n\t\t\treturn Promise.reject(res.status);\r\n\t\t}\r\n\t}\r\n\tgetCards() {\r\n\t\treturn fetch(this._url + 'cards', {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: this._headers\r\n\t\t})\r\n\t\t.then(res => {\r\n\t\t\treturn this._checkOk(res)\r\n\t\t})\r\n\t}\r\n\tpostCards(name, link) {\r\n\t\treturn fetch(this._url + 'cards', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: this._headers,\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tname: name,\r\n\t\t\t\tlink: link\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(res => {\r\n\t\t\treturn this._checkOk(res)\r\n\t\t})\r\n\t}\r\n\tgetUserInfo() {\r\n\t\treturn fetch(this._url + 'users/me', {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: this._headers\r\n\t\t})\r\n\t\t.then(res => {\r\n\t\t\treturn this._checkOk(res)\r\n\t\t})\r\n\t}\r\n\tsetUserInfo(name, caption) {\r\n\t\treturn fetch(this._url + 'users/me', {\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\theaders: this._headers,\r\n\t\t\tbody: JSON.stringify({\r\n                name: name,\r\n                about: caption\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(res => {\r\n\t\t\treturn this._checkOk(res)\r\n\t\t})\r\n\t}\r\n\tupdAvatar(src) {\r\n\t\treturn fetch(this._url + 'users/me/avatar', {\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\theaders: this._headers,\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tavatar: src\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(res => {\r\n\t\t\treturn this._checkOk(res)\r\n\t\t})\r\n\t}\r\n\tdeleteCard(cardId) {\r\n\t\treturn fetch(this._url + `cards/${cardId}`, {\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\theaders: this._headers\r\n\t\t})\r\n\t\t.then(res => {\r\n\t\t\treturn this._checkOk(res)\r\n\t\t})\r\n\t}\r\n\tchangeLikeCardStatus(cardId, isLiked) {\r\n\t\tif(isLiked) {\r\n\t\t\treturn fetch(this._url + `cards/likes/${cardId}`, {\r\n\t\t\t\tmethod: 'PUT',\r\n\t\t\t\theaders: this._headers\r\n\t\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\treturn this._checkOk(res)\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\treturn fetch(this._url + `cards/likes/${cardId}`, {\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: this._headers\r\n\t\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\treturn this._checkOk(res)\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\nconst api = new Api({\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-23/',\r\n    headers: {\r\n        authorization: '577b546f-6478-4029-92a1-5665bab78a44',\r\n        'Content-Type': 'application/json'\r\n    }\r\n})\r\nexport default api;","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n\treturn (\r\n\t\t<div className={`popup popup_type_${props.name} ${props.isOpen ? `popup_opened `: ``}` }>\r\n\t\t\t<div className=\"popup__container\">\r\n\t\t\t\t<button className=\"popup__close-button\" type=\"button\" onClick={props.onClose}></button>\r\n\t\t\t\t<form className={`popup__form popup__form_${props.name}\" name=\"${props.name}`} onSubmit={props.onSubmit}>\r\n\t\t\t\t\t<h2 className=\"popup__title\">{props.title}</h2>\r\n\t\t\t\t\t{props.children}\r\n\t\t\t\t\t<button className=\"popup__submit\" type=\"submit\" name=\"submit\">{props.buttonText}</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup(props) {\r\n\tconst [name, setName] = React.useState(' ');\r\n\tconst [description, setDescription] = React.useState('');\r\n\r\n\t// Подписка на контекст\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\t// После загрузки текущего пользователя из API\r\n\t// его данные будут использованы в управляемых компонентах.\r\n\tReact.useEffect(() => {\r\n\tsetName(currentUser.name);\r\n\tsetDescription(currentUser.about);\r\n\t}, [currentUser]); \r\n\r\n\tfunction handleUpdateName(e) {\r\n\t\tsetName(e.target.value);\r\n\t}\r\n\tfunction handleUpdateDescripton(e) {\r\n\t\tsetDescription(e.target.value);\r\n\t}\r\n\tfunction handleSubmit(e) {\r\n\t\t// Запрещаем браузеру переходить по адресу формы\r\n\t\te.preventDefault();\r\n\t  \r\n\t\t// Передаём значения управляемых компонентов во внешний обработчик\r\n\t\tprops.onUpdateUser({name, description});\r\n\t}\r\n\t  \r\n\treturn(\r\n\t\t<PopupWithForm\r\n\t\t\tname={'profile'}\r\n\t\t\ttitle={'Редактировать профиль'}\r\n\t\t\tbuttonText={'Сохранить'}\r\n\t\t\tisOpen={props.isOpen}\r\n\t\t\tonClose={props.onClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t<input \r\n\t\t\t\tname=\"profile\"\r\n\t\t\t\tplaceholder=\"Имя пользователя\"\r\n\t\t\t\tclassName='popup__input popup__input_type_profile'\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tminLength=\"2\"\r\n\t\t\t\tmaxLength=\"40\"\r\n\t\t\t\tonChange={handleUpdateName}\r\n\t\t\t\tvalue={name}\r\n\t\t\t\trequired\r\n\t\t\t/>\r\n\t\t\t<span className=\"popup__error\" id=\"profile-error\"></span>\r\n\t\t\t<input \r\n\t\t\t\tname='caption'\r\n\t\t\t\tplaceholder='О себе'\r\n\t\t\t\tclassName='popup__input popup__input_type_caption'\r\n\t\t\t\ttype='text'\r\n\t\t\t\tminLength='2'\r\n\t\t\t\tmaxLength='200'\r\n\t\t\t\tonChange={handleUpdateDescripton}\r\n\t\t\t\tvalue={description}\r\n\t\t\t\trequired\r\n\t\t\t/>\r\n\t\t\t<span className=\"popup__error\" id=\"caption-error\"></span>\r\n\t\t</PopupWithForm>\r\n\t);\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n\tconst avatarRef = React.useRef();\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t  \r\n\t\tprops.onUpdateAvatar({\r\n\t\t  avatar: avatarRef.current.value\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname={'avatar'}\r\n\t\t\ttitle={'Обновить аватар'}\r\n\t\t\tbuttonText={'Сохранить'}\r\n\t\t\tisOpen={props.isOpen}\r\n\t\t\tonClose={props.onClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t<input\r\n\t\t\t\tname='avatar'\r\n\t\t\t\tplaceholder='Ссылка на картинку'\r\n\t\t\t\tclassName='popup__input popup__input_type_avatar'\r\n\t\t\t\ttype='url'\r\n\t\t\t\tref={avatarRef}\r\n\t\t\t\trequired\r\n\t\t\t/>\r\n\t\t\t<span id=\"avatar-error\" className=\"popup__error\"></span>\r\n\t\t</PopupWithForm>\r\n\t\t)\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n\tconst [name, setName] = React.useState('');\r\n\tconst [link, setLink] = React.useState('');\r\n\r\n\tfunction handleCardName(e) {\r\n\t\tsetName(e.target.value);\r\n\t}\r\n\tfunction handleCardLink(e) {\r\n\t\tsetLink(e.target.value);\r\n\t}\r\n\tfunction handleSubmit(e) {\r\n\t\t// Запрещаем браузеру переходить по адресу формы\r\n\t\te.preventDefault();\r\n\t  \r\n\t\t// Передаём значения управляемых компонентов во внешний обработчик\r\n\t\tprops.onAddPlace({name, link});\r\n\t\tsetName('');\r\n\t\tsetLink('');\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname={'card'}\r\n\t\t\ttitle={'Новое место'}\r\n\t\t\tbuttonText={'Добавить'}\r\n\t\t\tisOpen={props.isOpen}\r\n\t\t\tonClose={props.onClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t<input\r\n\t\t\t\tname=\"place\"\r\n\t\t\t\tplaceholder=\"Название\"\r\n\t\t\t\tclassName=\"popup__input popup__input_type_place\"\r\n\t\t\t\ttype='text'\r\n\t\t\t\tminLength='2'\r\n\t\t\t\tmaxLength='30'\r\n\t\t\t\tvalue={name}\r\n\t\t\t\tonChange={handleCardName}\r\n\t\t\t\trequired\r\n\t\t\t/>\r\n\t\t\t<span className=\"popup__error\" id=\"place-error\"></span>\r\n\t\t\t<input\r\n\t\t\t\tname='place-link'\r\n\t\t\t\tplaceholder='Ссылка на картинку'\r\n\t\t\t\tclassName='popup__input popup__input_type_place-link'\r\n\t\t\t\ttype='url'\r\n\t\t\t\tvalue={link}\r\n\t\t\t\tonChange={handleCardLink}\r\n\t\t\t\trequired\r\n\t\t\t/>\r\n\t\t\t<span id=\"place-link-error\" className=\"popup__error\"></span>\r\n\t\t</PopupWithForm>\r\n\t)\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\n\r\nfunction DeletePlacePopup(props) {\r\n\tfunction handleSubmit(e) {\r\n\t\t// Запрещаем браузеру переходить по адресу формы\r\n\t\te.preventDefault();\r\n\t  \r\n\t\t// Передаём значения управляемых компонентов во внешний обработчик\r\n\t\tprops.onCardDelete(props.card);\r\n\t}\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname={'confirm'}\r\n\t\t\ttitle={'Вы уверены?'}\r\n\t\t\tbuttonText={'Да'}\r\n\t\t\tisOpen={props.isOpen}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default DeletePlacePopup;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport api from \"../utils/api\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup \";\r\nimport DeletePlacePopup from \"./DeletePlacePopup\";\r\n\r\n\r\nfunction App() {\r\n\tconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n\tconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n\tconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n\tconst [isDeletePlacePopupOpen, setIsDeletePlacePopupOpen] = React.useState(false);\r\n\tconst [selectedCard, setSelectedCard] = React.useState(false);\r\n\tconst [deletingcard, setDeletingcard] = React.useState({});\r\n\tconst [cards, setCards] = React.useState([]);\r\n\t// currenUser\r\n\tconst [currentUser, setCurrentUser] = React.useState({ name:'', about:''});\r\n\tReact.useEffect(() => {\r\n\t\tPromise.all([api.getUserInfo(), api.getCards()])\r\n\t\t.then(([userInfo, cardList]) => {\r\n\t\t\tsetCurrentUser(userInfo);\r\n\t\t\tsetCards(cardList)\r\n\t\t})\r\n\t\t.catch(err => console.log(err))\r\n\t}, []);\r\n\tReact.useEffect(() => {\r\n\t\tapi.getCards()\r\n\t\t.then((cardList) => {\r\n\t\t\tsetCards(cardList)\r\n\t\t})\r\n\t\t.catch(err => console.log(err))\r\n\t}, []);\r\n\t// Popups\r\n\tconst handleEditAvatarClick = () => {\r\n\t\tsetIsEditAvatarPopupOpen(true);\r\n\t};\r\n\tconst handleEditProfileClick = () => {\r\n\t\tsetIsEditProfilePopupOpen(true);\r\n\t};\r\n\tconst handleAddPlaceClick = () => {\r\n\t\tsetIsAddPlacePopupOpen(true);\r\n\t};\r\n\tconst handleDeletePlaceClick = (card) => {\r\n\t\tsetIsDeletePlacePopupOpen(true);\r\n\t\tsetDeletingcard(card);\r\n\t};\r\n\tconst handleCardClick  = (card) => {\r\n\t\tsetSelectedCard(card);\r\n\t}\r\n\tconst closeAllPopups = () => {\r\n\t\tsetIsEditAvatarPopupOpen(false);\r\n\t\tsetIsEditProfilePopupOpen(false);\r\n\t\tsetIsAddPlacePopupOpen(false);\r\n\t\tsetIsDeletePlacePopupOpen(false);\r\n\t\tsetSelectedCard({});\r\n\t};\r\n\t// UserData\r\n\tfunction handleUpdateUser(data) {\r\n\t\tapi.setUserInfo(data.name, data.description)\r\n\t\t.then(res => {\r\n\t\t\tsetCurrentUser(res);\r\n\t\t\tcloseAllPopups();\r\n\t\t})\r\n\t\t.catch(err => console.log(err));\r\n\t}\r\n\tfunction handleUpdateAvatar(data) {\r\n\t\tapi.updAvatar(data.avatar)\r\n\t\t.then(res => {\r\n\t\t\tsetCurrentUser(res);\r\n\t\t\tcloseAllPopups();\r\n\t\t})\r\n\t\t.catch(err => console.log(err));\r\n\t}\r\n\t// Cards\r\n\t\r\n\tfunction handleCardLike(card) {\r\n\t\t// Проверяем, есть ли уже лайк на этой карточке\r\n\t\tconst isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\t\t\r\n\t\t// Отправляем запрос в API и получаем обновлённые данные карточки\r\n\t\tapi.changeLikeCardStatus(card._id, !isLiked)\r\n\t\t.then((newCard) => {\r\n\t\t\tsetCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n\t\t})\r\n\t\t.catch(err => console.log(err));\r\n\t} \r\n\tfunction handleCardDelete(card) {\r\n\t\t// Отправляем запрос в API и получаем обновлённые данные карточки\r\n\t\tapi.deleteCard(card._id)\r\n\t\t.then(() => {\r\n\t\t\tsetCards((state) => state.filter((c) => c._id !== card._id));\r\n\t\t\tcloseAllPopups();\r\n\t\t})\r\n\t\t.catch(err => console.log(err));\r\n\t}\r\n\t// add places\r\n\tfunction handleAddPlace(data) {\r\n\t\tapi.postCards(data.name, data.link)\r\n\t\t.then(newCard => {\r\n\t\t\tsetCards([newCard, ...cards]);\r\n\t\t\tcloseAllPopups();\r\n\t\t})\r\n\t\t.catch(err => console.log(err));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<CurrentUserContext.Provider value={currentUser}>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<Main\r\n\t\t\t\t\tcards={cards}\r\n\t\t\t\t\tonEditAvatar={handleEditAvatarClick}\r\n\t\t\t\t\tonEditProfile={handleEditProfileClick}\r\n\t\t\t\t\tonAddPlace={handleAddPlaceClick}\r\n\t\t\t\t\tonCardClick={handleCardClick}\r\n\t\t\t\t\tonCardLike={handleCardLike}\r\n\t\t\t\t\tonCardDelete={handleDeletePlaceClick}\r\n\t\t\t\t/>\r\n\t\t\t\t<Footer />\r\n\t\t\t\t<EditAvatarPopup\r\n\t\t\t\t\tisOpen={isEditAvatarPopupOpen} \r\n\t\t\t\t\tonClose={closeAllPopups}\r\n\t\t\t\t\tonUpdateAvatar={handleUpdateAvatar} \r\n\t\t\t\t/>\r\n\t\t\t\t<EditProfilePopup\r\n\t\t\t\t\tisOpen={isEditProfilePopupOpen} \r\n\t\t\t\t\tonClose={closeAllPopups} \r\n\t\t\t\t\tonUpdateUser={handleUpdateUser} \r\n\t\t\t\t/>\r\n\t\t\t\t<AddPlacePopup\r\n\t\t\t\t\tisOpen={isAddPlacePopupOpen} \r\n\t\t\t\t\tonClose={closeAllPopups} \r\n\t\t\t\t\tonAddPlace={handleAddPlace} \r\n\t\t\t\t/>\r\n\t\t\t\t<DeletePlacePopup\r\n\t\t\t\t\tcard={deletingcard}\r\n\t\t\t\t\tisOpen={isDeletePlacePopupOpen}\r\n\t\t\t\t\tonClose={closeAllPopups}\r\n\t\t\t\t\tonCardDelete={handleCardDelete}\r\n\t\t\t\t/>\t\t\t\t\r\n\t\t\t\t<ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n\t\t\t</CurrentUserContext.Provider>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}